{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Sayjan Desktop\\\\Projects\\\\DataFunnel\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Container, Grid, Typography } from \"@mui/material\";\nimport DChart from \"./components/DChart\";\nimport DTable from \"./components/DTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/data\").then(res => res.json()).then(setData).catch(err => console.error(\"Error fetching data:\", err));\n  }, []);\n  if (!data) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"NO DATA FOUND\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 21\n  }, this);\n  const CountTable = data => data.map((stage, index) => {\n    var _nextStage$count;\n    const nextStage = data[index + 1];\n    const moved = (_nextStage$count = nextStage === null || nextStage === void 0 ? void 0 : nextStage.count) !== null && _nextStage$count !== void 0 ? _nextStage$count : stage.label === \"Won\" ? stage.count : 0;\n    const lost = stage.count - moved;\n    const winRate = (data[data.length - 1].count / stage.count * 100).toFixed(0);\n    const diffRate = stage.diffRate;\n    return {\n      stage: stage.label,\n      cameToStage: stage.count,\n      lost,\n      moved,\n      winRate: `${winRate}%`,\n      diffRate\n    };\n  });\n  const AcvTable = data => data.map((stage, index) => {\n    var _nextStage$acv;\n    const nextStage = data[index + 1];\n    const moved = (_nextStage$acv = nextStage === null || nextStage === void 0 ? void 0 : nextStage.acv) !== null && _nextStage$acv !== void 0 ? _nextStage$acv : stage.label === \"Won\" ? stage.acv : 0;\n    const lost = stage.acv - moved;\n    const winRate = (data[data.length - 1].acv / stage.acv * 100).toFixed(0);\n    return {\n      stage: stage.label,\n      cameToStage: stage.acv,\n      lost,\n      moved,\n      winRate: `${winRate}%`\n    };\n  });\n  const tableDataCount = CountTable(data);\n  const tableDataAcv = AcvTable(data);\n  const totalLostCount = tableDataCount.reduce((sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost), 0);\n  const totalLostAcv = tableDataAcv.reduce((sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost), 0);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: {\n      padding: 10,\n      marginTop: 30\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          sm: 6\n        },\n        children: /*#__PURE__*/_jsxDEV(DChart, {\n          data: data,\n          type: \"count\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          sm: 6\n        },\n        children: /*#__PURE__*/_jsxDEV(DChart, {\n          data: data,\n          type: \"acv\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          sm: 6\n        },\n        children: /*#__PURE__*/_jsxDEV(DTable, {\n          data: tableDataCount,\n          title: \"Funnel Table (Count)\",\n          totalLost: totalLostCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        size: {\n          xs: 12,\n          sm: 6\n        },\n        children: /*#__PURE__*/_jsxDEV(DTable, {\n          data: tableDataAcv,\n          title: \"Funnel Table (ACV)\",\n          totalLost: totalLostAcv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Container","Grid","Typography","DChart","DTable","jsxDEV","_jsxDEV","App","_s","data","setData","fetch","then","res","json","catch","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","CountTable","map","stage","index","_nextStage$count","nextStage","moved","count","label","lost","winRate","length","toFixed","diffRate","cameToStage","AcvTable","_nextStage$acv","acv","tableDataCount","tableDataAcv","totalLostCount","reduce","sum","row","totalLostAcv","style","padding","marginTop","container","spacing","size","xs","sm","type","title","totalLost","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Sayjan Desktop/Projects/DataFunnel/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Container, Grid, Typography } from \"@mui/material\";\nimport DChart from \"./components/DChart\";\nimport DTable from \"./components/DTable\";\n\nfunction App() {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/data\")\n      .then((res) => res.json())\n      .then(setData)\n      .catch((err) => console.error(\"Error fetching data:\", err));\n  }, []);\n\n  if (!data) return <Typography>NO DATA FOUND</Typography>;\n\n  const CountTable = (data) =>\n    data.map((stage, index) => {\n      const nextStage = data[index + 1];\n      const moved =\n        nextStage?.count ?? (stage.label === \"Won\" ? stage.count : 0);\n      const lost = stage.count - moved;\n      const winRate = (\n        (data[data.length - 1].count / stage.count) *\n        100\n      ).toFixed(0);\n      const diffRate = stage.diffRate;\n      return {\n        stage: stage.label,\n        cameToStage: stage.count,\n        lost,\n        moved,\n        winRate: `${winRate}%`,\n        diffRate,\n      };\n    });\n\n  const AcvTable = (data) =>\n    data.map((stage, index) => {\n      const nextStage = data[index + 1];\n      const moved = nextStage?.acv ?? (stage.label === \"Won\" ? stage.acv : 0);\n      const lost = stage.acv - moved;\n      const winRate = ((data[data.length - 1].acv / stage.acv) * 100).toFixed(\n        0\n      );\n      return {\n        stage: stage.label,\n        cameToStage: stage.acv,\n        lost,\n        moved,\n        winRate: `${winRate}%`,\n      };\n    });\n\n  const tableDataCount = CountTable(data);\n  const tableDataAcv = AcvTable(data);\n\n  const totalLostCount = tableDataCount.reduce(\n    (sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost),\n    0\n  );\n\n  const totalLostAcv = tableDataAcv.reduce(\n    (sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost),\n    0\n  );\n\n  return (\n    <Container style={{ padding: 10, marginTop: 30 }}>\n      <Grid container spacing={4}>\n        <Grid size={{ xs: 12, sm: 6 }}>\n          <DChart data={data} type=\"count\" />\n        </Grid>\n        <Grid size={{ xs: 12, sm: 6 }}>\n          <DChart data={data} type=\"acv\" />\n        </Grid>\n        <Grid size={{ xs: 12, sm: 6 }}>\n          <DTable\n            data={tableDataCount}\n            title=\"Funnel Table (Count)\"\n            totalLost={totalLostCount}\n          />\n        </Grid>\n        <Grid size={{ xs: 12, sm: 6 }}>\n          <DTable\n            data={tableDataAcv}\n            title=\"Funnel Table (ACV)\"\n            totalLost={totalLostAcv}\n          />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}