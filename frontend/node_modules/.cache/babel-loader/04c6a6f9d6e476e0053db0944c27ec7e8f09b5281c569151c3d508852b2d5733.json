{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\Sayjan Desktop\\\\Projects\\\\DataFunnel\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { Container, Grid, Typography } from \"@mui/material\";\nimport DChart from \"./components/DChart\";\nimport FunnelTable from \"./components/FunnelTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [data, setData] = useState(null);\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/data\").then(res => res.json()).then(setData).catch(err => console.error(\"Error fetching data:\", err));\n  }, []);\n  if (!data) return /*#__PURE__*/_jsxDEV(Typography, {\n    children: \"NO DATA FOUND\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 21\n  }, this);\n  const CountTable = data => data.map((stage, index) => {\n    var _nextStage$count;\n    const nextStage = data[index + 1];\n    const moved = (_nextStage$count = nextStage === null || nextStage === void 0 ? void 0 : nextStage.count) !== null && _nextStage$count !== void 0 ? _nextStage$count : stage.label === \"Won\" ? stage.count : 0;\n    const lost = stage.count - moved;\n    const winRate = (data[data.length - 1].count / stage.count * 100).toFixed(0);\n    return {\n      stage: stage.label,\n      cameToStage: stage.count,\n      lost,\n      moved,\n      winRate: `${winRate}%`\n    };\n  });\n  const AcvTable = data => data.map((stage, index) => {\n    var _nextStage$acv;\n    const nextStage = data[index + 1];\n    const moved = (_nextStage$acv = nextStage === null || nextStage === void 0 ? void 0 : nextStage.acv) !== null && _nextStage$acv !== void 0 ? _nextStage$acv : stage.label === \"Won\" ? stage.acv : 0;\n    const lost = stage.acv - moved;\n    const winRate = (data[data.length - 1].acv / stage.acv * 100).toFixed(0);\n    return {\n      stage: stage.label,\n      cameToStage: stage.acv,\n      lost,\n      moved,\n      winRate: `${winRate}%`\n    };\n  });\n  const tableDataCount = CountTable(data);\n  const tableDataAcv = AcvTable(data);\n  const totalLostCount = tableDataCount.reduce((sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost), 0);\n  const totalLostAcv = tableDataAcv.reduce((sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost), 0);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(DChart, {\n          data: data,\n          type: \"count\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(DChart, {\n          data: data,\n          type: \"acv\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(FunnelTable, {\n          data: tableDataCount,\n          title: \"Funnel Table (Count)\",\n          totalLost: totalLostCount\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(FunnelTable, {\n          data: tableDataAcv,\n          title: \"Funnel Table (ACV)\",\n          totalLost: totalLostAcv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useEffect","useState","Container","Grid","Typography","DChart","FunnelTable","jsxDEV","_jsxDEV","App","_s","data","setData","fetch","then","res","json","catch","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","CountTable","map","stage","index","_nextStage$count","nextStage","moved","count","label","lost","winRate","length","toFixed","cameToStage","AcvTable","_nextStage$acv","acv","tableDataCount","tableDataAcv","totalLostCount","reduce","sum","row","totalLostAcv","container","spacing","item","xs","md","type","title","totalLost","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/Sayjan Desktop/Projects/DataFunnel/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Container, Grid, Typography } from \"@mui/material\";\nimport DChart from \"./components/DChart\";\nimport FunnelTable from \"./components/FunnelTable\";\n\nfunction App() {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/api/data\")\n      .then((res) => res.json())\n      .then(setData)\n      .catch((err) => console.error(\"Error fetching data:\", err));\n  }, []);\n\n  if (!data) return <Typography>NO DATA FOUND</Typography>;\n\n  const CountTable = (data) =>\n    data.map((stage, index) => {\n      const nextStage = data[index + 1];\n      const moved =\n        nextStage?.count ?? (stage.label === \"Won\" ? stage.count : 0);\n      const lost = stage.count - moved;\n      const winRate = (\n        (data[data.length - 1].count / stage.count) *\n        100\n      ).toFixed(0);\n      return {\n        stage: stage.label,\n        cameToStage: stage.count,\n        lost,\n        moved,\n        winRate: `${winRate}%`,\n      };\n    });\n\n  const AcvTable = (data) =>\n    data.map((stage, index) => {\n      const nextStage = data[index + 1];\n      const moved = nextStage?.acv ?? (stage.label === \"Won\" ? stage.acv : 0);\n      const lost = stage.acv - moved;\n      const winRate = ((data[data.length - 1].acv / stage.acv) * 100).toFixed(\n        0\n      );\n      return {\n        stage: stage.label,\n        cameToStage: stage.acv,\n        lost,\n        moved,\n        winRate: `${winRate}%`,\n      };\n    });\n\n  const tableDataCount = CountTable(data);\n  const tableDataAcv = AcvTable(data);\n\n  const totalLostCount = tableDataCount.reduce(\n    (sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost),\n    0\n  );\n\n  const totalLostAcv = tableDataAcv.reduce(\n    (sum, row) => sum + (row.stage === \"Won\" ? 0 : row.lost),\n    0\n  );\n\n  return (\n    <Container>\n      <Grid container spacing={4}>\n        <Grid item xs={12} md={6}>\n          <DChart data={data} type=\"count\" />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <DChart data={data} type=\"acv\" />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <FunnelTable\n            data={tableDataCount}\n            title=\"Funnel Table (Count)\"\n            totalLost={totalLostCount}\n          />\n        </Grid>\n        <Grid item xs={12} md={6}>\n          <FunnelTable\n            data={tableDataAcv}\n            title=\"Funnel Table (ACV)\"\n            totalLost={totalLostAcv}\n          />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}